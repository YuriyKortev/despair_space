import type {
  InfinitySubtype,
  FinitudeSubtype,
  NecessitySubtype,
  PossibilitySubtype,
  Stage,
  AestheticSubtype,
  EthicalSubtype,
  ReligiousSubtype,
} from '../types';

interface Description {
  short: string;
  full: string;
}

// ===== ОПИСАНИЯ ЗОН ПРОСТРАНСТВА =====

export const ZONE_DESCRIPTIONS = {
  // Отчаяние бесконечности
  infinite: {
    imagination: {
      short: 'Потерялся в фантазиях',
      full: `Реальное «я» исчезло, замененное фантомом. Человек может воображать себя великим художником, спасителем мира, трагическим героем — но в реальности не делает ничего. Фантазия становится убежищем от конкретности существования. Чем ярче внутренний мир, тем бледнее реальная жизнь.`,
    },
    cognition: {
      short: 'Знает всё, кроме себя',
      full: `Накопление знаний без применения к собственной жизни. Может объяснить устройство вселенной, но не знает, как ему жить. Познание становится способом избежать экзистенциального вопроса. «Чем больше познаёт, тем меньше знает себя» — знание о мире заменяет знание о себе.`,
    },
    feeling: {
      short: 'Любит человечество, не выносит людей',
      full: `Чувства становятся абстрактными. Человек может рыдать над судьбой далёких народов, но раздражаться на конкретного соседа. Любовь к «человечеству» — способ избежать любви к ближнему. Эмоции направлены на идеи, не на реальных людей.`,
    },
    will: {
      short: 'Грандиозные планы, ноль действий',
      full: `Воля устремлена в бесконечность проектов, которые никогда не осуществятся. Каждый план грандиознее предыдущего — и каждый остаётся в голове. Конкретное действие кажется слишком мелким для таких масштабных замыслов.`,
    },
  } as Record<InfinitySubtype, Description>,

  // Отчаяние конечности
  finite: {
    conformist: {
      short: 'Делает как все',
      full: `Полная адаптация к окружению. Человек не рискует быть собой — слишком опасно выделяться. Он копирует соседей, следует моде, повторяет общие мнения. Мир называет это «здоровьем» и «социализацией». Но он потерял себя.`,
    },
    narrow_prudence: {
      short: 'Узкое благоразумие',
      full: `Жизнь сведена к расчёту выгоды и избеганию риска. Никаких порывов, никаких прыжков. «Благоразумие» становится тюрьмой, где каждый шаг взвешен и безопасен — и где нет места ничему подлинному.`,
    },
    lost_self: {
      short: 'Отшлифован, как галька',
      full: `Все углы сточены. Человек гладкий, удобный, никого не раздражает. Но он больше не имеет формы. Не его форма — а форма, которую ему придало море общественного мнения. Он идеально вписывается — потому что его больше нет.`,
    },
  } as Record<FinitudeSubtype, Description>,

  // Отчаяние возможности
  possibility: {
    fantasist: {
      short: 'Вечное «а вдруг»',
      full: `Возможности множатся бесконечно. Каждый выбор открывает десять новых вариантов. Человек никогда ничего не выбирает окончательно — ведь выбор закрывает другие двери. Он хочет сохраниться перед каждым решением, чтобы откатиться. Но жизнь — не видеоигра.`,
    },
    paralysis: {
      short: 'Паралич от избытка вариантов',
      full: `Изобилие возможностей поглощает. Чем больше вариантов, тем труднее выбрать. В конце концов человек не может сделать даже простейший выбор — каждый кажется либо недостаточным, либо слишком рискованным.`,
    },
    underground: {
      short: 'Рефлексия пожирает действие',
      full: `Бесконечное взвешивание «за» и «против». Каждый аргумент порождает контраргумент. Человек рефлексирует о рефлексии, анализирует свой анализ. Действие становится невозможным — ведь всегда можно ещё подумать.`,
    },
  } as Record<PossibilitySubtype, Description>,

  // Отчаяние необходимости
  necessity: {
    fatalism: {
      short: 'Всё предопределено',
      full: `«Что толку пытаться — всё уже решено». Человек сдаётся судьбе, року, обстоятельствам. Он не видит, что с Богом всё возможно. Необходимость стала абсолютной — и задушила всякую надежду.`,
    },
    philistine: {
      short: 'Обывательская узость',
      full: `«Я такой, какой есть. Иначе не могу». Человек принимает свою ограниченность как абсолютную данность. Его мир сузился до повседневных забот. Он потерял способность вообразить иное — и не хочет её обратно.`,
    },
    determinism: {
      short: 'Научная неизбежность',
      full: `«Мы — продукт генов и среды». Человек объясняет всё причинно-следственными цепями и не оставляет места свободе. Он может быть интеллектуально изощрён — но экзистенциально мёртв. Всё объяснено, значит — ничего нельзя изменить.`,
    },
  } as Record<NecessitySubtype, Description>,

  // Осознанность
  consciousness: {
    unconscious: {
      short: 'Не знает, что болен',
      full: `Самая опасная форма отчаяния — потому что незаметна. Человек может быть вполне доволен жизнью. Он не задаёт вопрос «кто я?» — и потому не может получить ответ. Его отчаяние глубже, чем у того, кто мучается.`,
    },
    semiconscious: {
      short: 'Смутная тревога',
      full: `Что-то не так, но непонятно что. Периодами накатывает тоска, бессмысленность. Человек глушит это работой, развлечениями, отношениями — но тревога возвращается. Он на пороге осознания — и боится переступить.`,
    },
    conscious: {
      short: 'Знает своё отчаяние',
      full: `Видит болезнь — но не знает лекарства. Или знает, но не хочет принимать. Это может быть мучительная честность — или демоническое упрямство. Осознание без веры — это ад при жизни.`,
    },
  },
};

// ===== ОПИСАНИЯ СТАДИЙ =====

export const STAGE_DESCRIPTIONS = {
  aesthetic: {
    base: {
      short: 'Живёт моментом',
      full: `Высшая ценность — интересное, приятное, новое. Эстетик избегает выбора, потому что выбор закрывает возможности. Он скользит по поверхности жизни, собирая впечатления. Скука — его главный враг.`,
    },
    subtypes: {
      sensual: {
        short: 'Чувственный эстетик',
        full: `Дон Жуан: погоня за наслаждением. Каждое новое удовольствие должно быть сильнее предыдущего. Но закон убывающей отдачи неумолим — и в конце ждёт пустота.`,
      },
      romantic: {
        short: 'Романтик-мечтатель',
        full: `Живёт в мире воображения. Реальность слишком груба для его тонкой души. Он влюблён в идею любви, очарован идеей приключения — но конкретная любовь, конкретное приключение его разочаровывают.`,
      },
      intellectual: {
        short: 'Эстетик-интеллектуал',
        full: `Наслаждается идеями, теориями, системами. Жизнь — спектакль, который он наблюдает с ироничной дистанции. Он слишком умён, чтобы во что-то верить, слишком проницателен, чтобы что-то делать.`,
      },
      demonic: {
        short: 'Демонический эстетик',
        full: `Видит пустоту — и находит в этом извращённое удовольствие. Человек из подполья: «Я человек больной, я злой человек». Осознаёт своё отчаяние, но держится за него как за последнее, что у него есть.`,
      },
    } as Record<AestheticSubtype, Description>,
  },

  ethical: {
    base: {
      short: 'Живёт долгом',
      full: `Высшая ценность — постоянство, обязательство, выбор. Этик выбирает себя, принимает ответственность, строит жизнь на фундаменте решений. Но этическое — ещё не религиозное. Можно быть добропорядочным и быть в отчаянии.`,
    },
    subtypes: {
      bourgeois: {
        short: 'Добропорядочный обыватель',
        full: `Честен, надёжен, выполняет обязательства. Мир считает его образцом. Но он не задаёт вопрос о Боге — этика заменила ему религию. Он думает, что спасётся собственными силами. Это отчаяние.`,
      },
      heroic: {
        short: 'Трагический герой',
        full: `Жертвует собой ради высшего — народа, идеи, долга. Агамемнон приносит в жертву Ифигению. Герой понятен, его мотивы прозрачны. Но он остаётся в рамках всеобщего — он не Авраам.`,
      },
      ironic: {
        short: 'Этик с иронией',
        full: `Выполняет долг, но видит его относительность. Ирония как дистанция — он не наивен, как буржуа. Но ирония может стать бегством от серьёзности — способом не отвечать за свой выбор до конца.`,
      },
    } as Record<EthicalSubtype, Description>,
  },

  religious: {
    base: {
      short: 'Живёт перед Богом',
      full: `Высшая ценность — отношение с Абсолютом. Религиозный человек понимает, что этика недостаточна, что своими силами не спастись. Он стоит перед Богом — один на один, без посредников.`,
    },
    subtypes: {
      religiousness_a: {
        short: 'Религиозность А (имманентная)',
        full: `Бог познаётся через углубление в себя. Страдание — путь к Богу. Человек умирает для мира, отрешается от конечного. Это ещё не христианство — это может быть Сократ.`,
      },
      religiousness_b: {
        short: 'Религиозность Б (парадоксальная вера)',
        full: `Прыжок веры через абсурд. Авраам верит, что получит Исаака обратно — вопреки всякой логике. Вечное вошло во время, Бог стал человеком — скандал для разума. Вера — не знание, а рискованное «да».`,
      },
      demonic_religious: {
        short: 'Демоническое (знает и отвергает)',
        full: `Видел истину — и отвернулся. Это не неверие по незнанию, а активный отказ. Человек знает, что Бог есть, знает путь — и выбирает против. Грех против Святого Духа. Замкнутость, ожесточение, ад при жизни.`,
      },
    } as Record<ReligiousSubtype, Description>,
  },
} as Record<Stage, { base: Description; subtypes: Record<string, Description> }>;

// ===== ПЕРЕВОДЫ =====

export const STAGE_NAMES: Record<Stage, string> = {
  aesthetic: 'Эстетическая',
  ethical: 'Этическая',
  religious: 'Религиозная',
};

export const SUBTYPE_NAMES: Record<string, string> = {
  // Эстетические
  sensual: 'Чувственный',
  romantic: 'Романтик',
  intellectual: 'Интеллектуал',
  demonic: 'Демонический',
  // Этические
  bourgeois: 'Обыватель',
  heroic: 'Трагический герой',
  ironic: 'Ироник',
  // Религиозные
  religiousness_a: 'Религиозность А',
  religiousness_b: 'Религиозность Б',
  demonic_religious: 'Демоническое',
  // Бесконечность
  imagination: 'Фантазии',
  cognition: 'Познание',
  feeling: 'Абстрактные чувства',
  will: 'Грандиозные планы',
  // Конечность
  conformist: 'Конформист',
  narrow_prudence: 'Благоразумие',
  lost_self: 'Потерянное я',
  // Необходимость
  fatalism: 'Фатализм',
  philistine: 'Обывательство',
  determinism: 'Детерминизм',
  // Возможность
  fantasist: 'Фантазёр',
  paralysis: 'Паралич',
  underground: 'Подполье',
};

export const TRANSITION_NAMES: Record<string, string> = {
  evolution: 'Эволюция',
  crisis: 'Кризис',
  branch: 'Развилка',
};

export const getStageDescription = (stage: Stage): Description => {
  return STAGE_DESCRIPTIONS[stage]?.base || { short: '', full: '' };
};

export const getSubtypeDescription = (stage: Stage, subtype: string): Description | null => {
  return STAGE_DESCRIPTIONS[stage]?.subtypes?.[subtype] || null;
};
